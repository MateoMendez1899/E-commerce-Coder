@use 'sass:color'
@use 'variables'

.card.h-100.shadow-sm
    transition: transform 0.2s cubic-bezier(.4, 2, .6, 1), box-shadow 0.2s

    &:hover
        transform: translateY(-8px) scale(1.04)
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.18), 0 1.5px 6px 0 rgba(0, 0, 0, 0.10)
        z-index: 2

.card.shadow-sm.p-4[style],
.card.shadow-sm.p-4[style="max-width: 400px; width: 100%;"]
    max-width: 400px
    width: 100%


.card-main 
  display: flex
  flex-direction: column
  width: 100%
  max-width: 350px
  
  height: 100%
  margin: 35px
  background-color: variables.$color-fondo
  border: 1px solid variables.$color-borde
  border-radius: variables.$radio-borde
  box-shadow: variables.$sombra-intensa
  overflow: hidden
  transition: transform 0.3s ease

  &:hover 
    transform: translateY(-5px)
  
  &__image 
    width: 100%
    height: 200px
    object-fit: cover
    display: block
   
  
  &__body 
    padding: 16px
    flex-grow: 1
    display: flex
    flex-direction: column
    justify-content: space-between
  
  &__title 
    margin: 0 0 8px
    font-size: 1.25rem
    color: variables.$color-texto
  
  &__text 
    margin: 0
    font-size: 1rem
    color: color.adjust(variables.$color-texto, $lightness: 10%)


  






.card-pequena
  background-color: white
  border: 1px solid variables.$color-borde
  border-radius: variables.$radio-borde
  box-shadow: variables.$sombra-suave
  overflow: hidden
  position: relative
  display: flex
  flex-direction: column
  transition: transform 0.2s ease

  &:hover
    transform: scale(1.02)

  &__badge
    position: absolute
    top: variables.$espaciado-sm
    left: variables.$espaciado-sm
    background-color: variables.$color-error
    color: white
    font-size: 0.85rem
    font-weight: bold
    padding: variables.$espaciado-xs variables.$espaciado-sm
    border-radius: variables.$radio-borde
    z-index: 1

  &__image
    width: 100%
    height: 190px
    object-fit: contain
    border-bottom: 1px solid variables.$color-borde

  &__body
    padding: variables.$espaciado-sm
    display: flex
    flex-direction: column
    gap: variables.$espaciado-sm
    flex-grow: 1

  &__title
    font-size: 1.1rem
    font-weight: 600
    color: variables.$color-texto
    margin: 0

  &__price
    display: flex
    justify-content: space-between
    align-items: center

    &--viejo
      text-decoration: line-through
      color: variables.$color-secundario
      font-size: 1rem

    &--nuevo
      color: variables.$color-error
      font-weight: bold
      font-size: 1.2rem

  &__button
    background-color: variables.$color-fondo-button
    color: variables.$color-button-texto
    border: none
    padding: variables.$espaciado-sm
    border-radius: variables.$radio-borde
    font-size: 1rem
    text-align: center
    cursor: pointer
    text-decoration: none
    transition: background-color 0.3s ease

    &:hover
      background-color: color.adjust(variables.$color-primario, $lightness: -10%)


.cards-container
  display: flex
  flex-wrap: wrap
  gap: variables.$espaciado-lg
  justify-content: center
  padding: variables.$espaciado-xl
  max-width: variables.$ancho-maximo
  margin: 0 auto    



.card-productos
  display: grid
  row-gap: 3.5rem


  &__article
    position: relative
    overflow: hidden

  &__img
    width: 100%
    border-radius: variables.$radio-borde
   

  &__body
    width: 288px
    background-color: variables.$color-fondo
    padding: 1.5rem 2rem
    box-shadow: variables.$sombra-media
    border-radius: 1rem
    position: absolute
    bottom: -9rem   
    left: 0
    right: 0
    margin-inline: auto 
    opacity: 0
    transition: opacity 1s 1s


  &__text
    display: block
    font-size: variables.$tamanio-texto
    margin-bottom: .25rem
   

  &__title
    font-size: variables.$titulo-md
    font-weight: 500
    color: variables.$color-texto
    margin-bottom: .75rem

  &__button
    text-decoration: none
    font-size: variables.$tam-text-buttom
    font-weight: 500
    color: variables.$color-exito
    background-color: none  

  &:hover &__button
    text-decoration: underline

.card-productos__article:hover .card-productos__body
 animation: show-data 1s forwards
 opacity: 1
 transition: opacity .3s

.card-productos__article:hover
  animation: remove-overflow 2s forwards

.card-productos__article:not(:hover)
  animation: show-overflow 2s forwards    

.card-productos__article:not(:hover) .card-productos__body
  animation: remove-body 1s forwards         

@keyframes show-data
  50%
    transform: translateY(-10rem)
  100%
    transform: translateY(-7rem)       

@keyframes remove-overflow
  to
    overflow: initial  

@keyframes remove-body
  0%
    transform: translateY(-7rem)  
  50%
    transform: translateY(-10rem)      
  100%
    transform: translateY(0.5rem)  

@keyframes show-overflow
  0%
    overflow: initial
    pointer-events: none
  50% 
    overflow: hidden

// MEDIA QUERIES

@media screen and (max-width: 340px)
  .container_productos
    margin-inline: 1rem

  .card-productos__body
    width: 250px
    padding: 1rem    

@media screen and (min-width: 768px)
  .card-productos
    grid-template-columns: repeat(2, 1fr)
    column-gap: 1.5rem

@media screen and (min-width: 1120px)
  .container_productos
    height: 100vh

  .card-productos
    grid-template-columns: repeat(3, 1fr)

  .card-productos__img
    width: 348px

  .card-productos__body
    width: 316px
    padding-inline: 2.5rem  

.card-info
  border-radius: variables.$radio-borde-xl
  height: 100%
  padding: 1.5rem
  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075)
  &__borderless
    background: rgb(248 249 250)
  &__borderblue
    border: 2px solid rgba(13, 110, 253, 1)
